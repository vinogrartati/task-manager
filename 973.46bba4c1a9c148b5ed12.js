"use strict";(self.webpackChunktask_manager=self.webpackChunktask_manager||[]).push([[973],{1973:(E,a,o)=>{o.r(a),o.d(a,{EditPageModule:()=>h});var s=o(8955),d=o(4466),i=o(665),m=o(3190),u=o(639),g=o(2858),p=o(8583),Z=o(3472);function c(e,r){1&e&&(u.TgZ(0,"div"),u.TgZ(1,"small"),u._uU(2,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),u.qZA(),u.qZA())}function f(e,r){1&e&&(u.TgZ(0,"div"),u.TgZ(1,"small"),u._uU(2,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),u.qZA(),u.qZA())}function v(e,r){if(1&e){const t=u.EpF();u.TgZ(0,"div"),u._UZ(1,"app-back-button"),u.TgZ(2,"div",3),u.TgZ(3,"form",4),u.NdJ("ngSubmit",function(){return u.CHM(t),u.oxw().submit()}),u.TgZ(4,"div"),u.TgZ(5,"h5"),u._uU(6,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),u.qZA(),u.TgZ(7,"label",5),u._uU(8,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),u.qZA(),u._UZ(9,"input",6),u.YNc(10,c,3,0,"div",7),u.qZA(),u.TgZ(11,"div"),u.TgZ(12,"h5"),u._uU(13,"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"),u.qZA(),u.TgZ(14,"div",8),u.TgZ(15,"label",9),u._uU(16,"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442"),u.qZA(),u.TgZ(17,"select",10),u.TgZ(18,"option",11),u._uU(19,"low"),u.qZA(),u.TgZ(20,"option",12),u._uU(21,"normal"),u.qZA(),u.TgZ(22,"option",13),u._uU(23,"high"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(24,"div"),u.TgZ(25,"h5"),u._uU(26,"\u041e\u0442\u043c\u0435\u0442\u043a\u0438"),u.qZA(),u.TgZ(27,"label",14),u._uU(28,"\u041e\u0442\u043c\u0435\u0442\u043a\u0438"),u.qZA(),u.TgZ(29,"select",15),u.TgZ(30,"option",16),u._uU(31,"research"),u.qZA(),u.TgZ(32,"option",17),u._uU(33,"design"),u.qZA(),u.TgZ(34,"option",18),u._uU(35,"development"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(36,"div"),u.TgZ(37,"h5"),u._uU(38,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),u.qZA(),u.TgZ(39,"label",19),u._uU(40,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),u.qZA(),u._UZ(41,"textarea",20),u.YNc(42,f,3,0,"div",7),u.qZA(),u.TgZ(43,"button",21),u._uU(44,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const t=u.oxw();let n,l;u.xp6(3),u.Q6J("formGroup",t.form),u.xp6(7),u.Q6J("ngIf",(null==(n=t.form.get("title"))?null:n.touched)&&(null==(n=t.form.get("title"))?null:n.invalid)),u.xp6(32),u.Q6J("ngIf",(null==(l=t.form.get("description"))?null:l.touched)&&(null==(l=t.form.get("description"))?null:l.invalid)),u.xp6(1),u.Q6J("disabled",t.form.invalid)}}function T(e,r){1&e&&(u.TgZ(0,"p"),u._uU(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b..."),u.qZA())}let A=(()=>{class e{constructor(t,n,l){this.tasksService=t,this.route=n,this.router=l}ngOnInit(){this.route.params.pipe((0,m.w)(t=>this.tasksService.getTask(t.id))).subscribe(t=>{this.task=t,this.form=new i.cw({title:new i.NI(t.title,i.kI.required),description:new i.NI(t.description,i.kI.required),priority:new i.NI(t.priority),labels:new i.NI(t.labels)})})}submit(){this.form.invalid||(this.tasksService.updateTask(Object.assign(Object.assign({},this.task),{title:this.form.value.title,description:this.form.value.description,priority:this.form.value.priority,labels:this.form.value.labels})).subscribe(),this.router.navigate([`/task/${this.task.id}`]))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(g.C),u.Y36(s.gz),u.Y36(s.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-edit-page"]],decls:4,vars:2,consts:[[1,"edit-page"],[4,"ngIf","ngIfElse"],["loading",""],[1,"background-elements","layout-elements"],[1,"form",3,"formGroup","ngSubmit"],["for","title"],["id","title","type","text","formControlName","title",1,"form-title"],[4,"ngIf"],[1,"form-priority"],["for","priority"],["id","priority","formControlName","priority",1,"priority"],["value","low"],["value","normal"],["value","high"],["for","labels"],["id","labels","formControlName","labels","multiple","",1,"labels"],["value","research"],["value","design"],["value","development"],["for","description"],["id","description","rows","10","formControlName","description",1,"form-description"],["type","submit",1,"button-blue",3,"disabled"]],template:function(t,n){if(1&t&&(u.TgZ(0,"div",0),u.YNc(1,v,45,4,"div",1),u.YNc(2,T,2,0,"ng-template",null,2,u.W1O),u.qZA()),2&t){const l=u.MAs(3);u.xp6(1),u.Q6J("ngIf",n.form)("ngIfElse",l)}},directives:[p.O5,Z.W,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,i.K7],styles:[""]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[d.m,s.Bz.forChild([{path:"",component:A}])],s.Bz]}),e})()}}]);